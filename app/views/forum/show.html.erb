<%= turbo_frame_tag "app" do %>
  <div class="container">
      <a href="/forum" class="btn btn-primary mt-3">Back to forum</a>
      <% if (current_user.id === @forum.user_id) %>
        <%=button_to 'Delete', {:controller => :forum, :action => 'destroy', :id => @forum.id}, {class: "btn btn-danger mt-3", data: { confirm: "Are you sure?", turbo_confirm: "Are you sure?" }, :method => :delete} %>
      <% end %>
      <div class="d-flex justify-content-center mt-3">
          <div class="card w-75">
              <div class="card-header">
                  Forum created by <%= @forum.user.email %>:
              </div>
              <div class="card-body">
                  <blockquote class="blockquote mb-0">
                  <p><%= @forum.title %></p>
                  <footer class="blockquote-footer"><cite title="Source Title"><%= @forum.description %></cite></footer>
                  </blockquote>
              </div>
          </div>
      </div>
      <% if @forum.comment %>
        <div class="w-100 d-flex justify-content-center">
        <div class="card w-75">
          <ul class="list-group list-group-flush">
            <% @forum.comment.each do |comment| %>
              <li class="list-group-item">
                <em><%= comment.user.email %></em><br />
                <%= comment.message %><br />
                <em><%= comment.created_at.strftime("%-d/%-m/%y at %l:%M %p") %></em>
              </li>
            <% end %>
          </ul>
        </div>
        </div>
      <% end %>
      <div class="d-flex justify-content-center">
        <%= render partial: 'comments/create-comment', :locals => {:comment => @comment, :forum => @forum } %>
      </div>
  </div>
<% end %>
